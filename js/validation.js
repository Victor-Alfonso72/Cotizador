/*! RUT 1.0.0 */
function validarut(e){if (e.length < 9)return false; i1=e.indexOf("-"); dv=e.substr(i1 + 1); dv=dv.toUpperCase(); nu=e.substr(0, i1); cnt=0; suma=0; for (i=nu.length - 1; i >=0; i--){dig=nu.substr(i, 1); fc=cnt + 2; suma +=parseInt(dig) * fc; cnt=(cnt + 1) % 6}dvok=11 - suma % 11; if (dvok==11) dvokstr="0"; if (dvok==10) dvokstr="K"; if (dvok !=11 && dvok !=10) dvokstr="" + dvok; if (dvokstr==dv)return true; else return false}function formato_rut(e, t){var n=""; var r=""; var i=0; var s=0; var o=0; var u=""; if (t){e=formato_rut(e, false); u=e.length; for (s=u - 1, o=0; s >=0; s--, o++)n=n + e.charAt(s); r=r + n.charAt(0); r=r + "-"; for (s=1, o=2; s < u; s++, o++){if (i==3){r=r + ""; o++; r=r + n.charAt(s); i=1}else{r=r + n.charAt(s); i++}}n=""; for (s=r.length - 1, o=0; s >=0; s--, o++)n=n + r.charAt(s); if (n=="-") n=""; e=n}else{var a=""; for (s=0; s < e.length; s++)if (e.charAt(s) !=" " && e.charAt(s) !="." && e.charAt(s) !="-") a=a + e.charAt(s); e=a}return e}$.validator.addMethod("valrut", function (e){return validarut(e)}, "Rut incorrecto")